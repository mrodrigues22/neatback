<?xml version="1.0" encoding="UTF-8" ?>
<Page
    x:Class="NeatBack.Views.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:NeatBack"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    mc:Ignorable="d"
    Background="{StaticResource SurfaceBrush}">
    
    <Page.Resources>
        <!-- Fade In Animation -->
        <Storyboard x:Name="FadeInStoryboard">
            <DoubleAnimation Storyboard.TargetName="MainContent"
                           Storyboard.TargetProperty="Opacity"
                           From="0" To="1" Duration="0:0:0.5">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut" />
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
    </Page.Resources>
    
    <Page.Content>
        <ScrollViewer>
            <Grid x:Name="MainContent" Padding="32" Opacity="1">
                <StackPanel
                    Spacing="24"
                    MaxWidth="800">
                    
                    <!-- Modern Header with Gradient -->
                    <Border CornerRadius="20" 
                            Background="{StaticResource PrimaryGradient}"
                            Padding="32,40"
                            BorderBrush="#E5E7EB"
                            BorderThickness="1">
                        <StackPanel Spacing="12">
                            <TextBlock
                                Text="âœ¨ NeatBack"
                                FontSize="40"
                                FontWeight="Bold"
                                Foreground="White" />
                            <TextBlock
                                Text="Your AI-Powered Posture Guardian"
                                FontSize="18"
                                Foreground="White"
                                Opacity="0.9" />
                        </StackPanel>
                    </Border>
                    
                    <!-- Control Buttons - Modern Style -->
                    <Grid ColumnSpacing="16">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        
                        <Button
                            x:Name="StartButton"
                            Grid.Column="0"
                            Content="â–¶ Start Monitoring"
                            Click="StartButton_Click"
                            HorizontalAlignment="Stretch"
                            Style="{StaticResource ModernButton}" />
                        
                        <Button
                            x:Name="SavePostureButton"
                            Grid.Column="1"
                            Content="ðŸ’¾ Save Good Posture"
                            Click="SavePostureButton_Click"
                            IsEnabled="False"
                            HorizontalAlignment="Stretch"
                            Style="{StaticResource SecondaryButton}" />
                    </Grid>
                    
                    <!-- Webcam Preview - Modern Card -->
                    <Border
                        CornerRadius="16"
                        Padding="24"
                        Background="{StaticResource CardSurfaceBrush}"
                        BorderBrush="#E5E7EB"
                        BorderThickness="1">
                        <StackPanel Spacing="16">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="&#xE714;" 
                                         FontSize="20" 
                                         Foreground="{StaticResource PrimaryBrush}" />
                                <TextBlock
                                    Text="Live Camera Feed"
                                    Style="{StaticResource SectionTitle}" />
                            </StackPanel>
                            
                            <Border
                                BorderBrush="{StaticResource PrimaryBrush}"
                                BorderThickness="2"
                                CornerRadius="12"
                                Height="400"
                                Background="#000000">
                                <Image
                                    x:Name="CameraPreview"
                                    Stretch="Uniform" />
                            </Border>
                        </StackPanel>
                    </Border>
                    
                    <!-- Status Section - Modern Card -->
                    <Border
                        CornerRadius="16"
                        Padding="24"
                        Background="{StaticResource CardSurfaceBrush}"
                        BorderBrush="#E5E7EB"
                        BorderThickness="1">
                        <StackPanel Spacing="16">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="&#xE8F4;" 
                                         FontSize="20" 
                                         Foreground="{StaticResource PrimaryBrush}" />
                                <TextBlock
                                    Text="Status"
                                    Style="{StaticResource SectionTitle}" />
                            </StackPanel>
                            
                            <Border Background="#F3F4F6" 
                                   CornerRadius="12" 
                                   Padding="20,16">
                                <TextBlock
                                    x:Name="StatusText"
                                    Text="Not monitoring"
                                    FontSize="16"
                                    FontWeight="Medium"
                                    TextWrapping="Wrap"
                                    Foreground="#374151" />
                            </Border>
                            
                            <ProgressBar
                                x:Name="BadPostureProgress"
                                Maximum="30"
                                Value="0"
                                Height="8"
                                CornerRadius="4"
                                Foreground="{StaticResource WarningBrush}"
                                Visibility="Collapsed" />
                        </StackPanel>
                    </Border>
                    
                    <!-- Posture Metrics - Modern Cards Grid -->
                    <Border
                        CornerRadius="16"
                        Padding="24"
                        Background="{StaticResource CardSurfaceBrush}"
                        BorderBrush="#E5E7EB"
                        BorderThickness="1">
                        <StackPanel Spacing="20">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="&#xE9D9;" 
                                         FontSize="20" 
                                         Foreground="{StaticResource PrimaryBrush}" />
                                <TextBlock
                                    Text="Posture Metrics"
                                    Style="{StaticResource SectionTitle}" />
                            </StackPanel>
                            
                            <Grid RowSpacing="16" ColumnSpacing="16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition />
                                    <RowDefinition />
                                    <RowDefinition />
                                </Grid.RowDefinitions>
                                
                                <!-- Head Pitch Metric Card -->
                                <Border Grid.Row="0" Grid.Column="0" 
                                       Background="#EEF2FF" 
                                       CornerRadius="12" 
                                       Padding="16">
                                    <StackPanel Spacing="8">
                                        <TextBlock Text="ðŸ“ Head Pitch" Style="{StaticResource MetricLabel}" />
                                        <TextBlock x:Name="PitchText" Text="--Â°" Style="{StaticResource MetricValue}" />
                                    </StackPanel>
                                </Border>
                                
                                <!-- Head Roll Metric Card -->
                                <Border Grid.Row="0" Grid.Column="1" 
                                       Background="#F0FDF4" 
                                       CornerRadius="12" 
                                       Padding="16">
                                    <StackPanel Spacing="8">
                                        <TextBlock Text="ðŸ”„ Head Roll" Style="{StaticResource MetricLabel}" />
                                        <TextBlock x:Name="RollText" Text="--Â°" Style="{StaticResource MetricValue}" />
                                    </StackPanel>
                                </Border>
                                
                                <!-- Shoulder Tilt Metric Card -->
                                <Border Grid.Row="1" Grid.Column="0" 
                                       Background="#FEF3C7" 
                                       CornerRadius="12" 
                                       Padding="16">
                                    <StackPanel Spacing="8">
                                        <TextBlock Text="ðŸ’ª Shoulder Tilt" Style="{StaticResource MetricLabel}" />
                                        <TextBlock x:Name="ShoulderTiltText" Text="--Â°" Style="{StaticResource MetricValue}" />
                                    </StackPanel>
                                </Border>
                                
                                <!-- Distance Metric Card -->
                                <Border Grid.Row="1" Grid.Column="1" 
                                       Background="#DBEAFE" 
                                       CornerRadius="12" 
                                       Padding="16">
                                    <StackPanel Spacing="8">
                                        <TextBlock Text="ðŸ“ Distance" Style="{StaticResource MetricLabel}" />
                                        <TextBlock x:Name="DistanceText" Text="-- cm" Style="{StaticResource MetricValue}" />
                                    </StackPanel>
                                </Border>
                                
                                <!-- Bad Duration Metric Card -->
                                <Border Grid.Row="2" Grid.Column="0" 
                                       Background="#FEE2E2" 
                                       CornerRadius="12" 
                                       Padding="16">
                                    <StackPanel Spacing="8">
                                        <TextBlock Text="â±ï¸ Bad Duration" Style="{StaticResource MetricLabel}" />
                                        <TextBlock x:Name="BadDurationText" Text="0 s" Style="{StaticResource MetricValue}" />
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </StackPanel>
                    </Border>
                    
                    <!-- Threshold Settings - Modern Card -->
                    <Border
                        CornerRadius="16"
                        Padding="24"
                        Background="{StaticResource CardSurfaceBrush}"
                        BorderBrush="#E5E7EB"
                        BorderThickness="1">
                        <StackPanel Spacing="20">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="&#xE115;" 
                                         FontSize="20" 
                                         Foreground="{StaticResource PrimaryBrush}" />
                                <TextBlock
                                    Text="Sensitivity Settings"
                                    Style="{StaticResource SectionTitle}" />
                            </StackPanel>
                            
                            <!-- Pitch Threshold -->
                            <StackPanel Spacing="12">
                                <Grid>
                                    <TextBlock Text="ðŸ“ Pitch Threshold" 
                                             FontWeight="Medium" 
                                             Foreground="#374151" />
                                    <TextBlock x:Name="PitchThresholdValue" 
                                             Text="-10Â°" 
                                             HorizontalAlignment="Right"
                                             FontWeight="SemiBold"
                                             Foreground="{StaticResource PrimaryBrush}" />
                                </Grid>
                                <Slider
                                    x:Name="PitchThresholdSlider"
                                    Minimum="-30"
                                    Maximum="0"
                                    Value="-10"
                                    StepFrequency="1"
                                    ValueChanged="ThresholdSlider_ValueChanged" />
                            </StackPanel>
                            
                            <!-- Distance Threshold -->
                            <StackPanel Spacing="12">
                                <Grid>
                                    <TextBlock Text="ðŸ“ Distance Threshold" 
                                             FontWeight="Medium" 
                                             Foreground="#374151" />
                                    <TextBlock x:Name="DistanceThresholdValue" 
                                             Text="10 cm" 
                                             HorizontalAlignment="Right"
                                             FontWeight="SemiBold"
                                             Foreground="{StaticResource PrimaryBrush}" />
                                </Grid>
                                <Slider
                                    x:Name="DistanceThresholdSlider"
                                    Minimum="5"
                                    Maximum="20"
                                    Value="10"
                                    StepFrequency="1"
                                    ValueChanged="ThresholdSlider_ValueChanged" />
                            </StackPanel>
                            
                            <!-- Head Roll Threshold -->
                            <StackPanel Spacing="12">
                                <Grid>
                                    <TextBlock Text="ðŸ”„ Head Roll Threshold" 
                                             FontWeight="Medium" 
                                             Foreground="#374151" />
                                    <TextBlock x:Name="HeadRollThresholdValue" 
                                             Text="15Â°" 
                                             HorizontalAlignment="Right"
                                             FontWeight="SemiBold"
                                             Foreground="{StaticResource PrimaryBrush}" />
                                </Grid>
                                <Slider
                                    x:Name="HeadRollThresholdSlider"
                                    Minimum="5"
                                    Maximum="30"
                                    Value="15"
                                    StepFrequency="1"
                                    ValueChanged="ThresholdSlider_ValueChanged" />
                            </StackPanel>
                            
                            <!-- Shoulder Tilt Threshold -->
                            <StackPanel Spacing="12">
                                <Grid>
                                    <TextBlock Text="ðŸ’ª Shoulder Tilt Threshold" 
                                             FontWeight="Medium" 
                                             Foreground="#374151" />
                                    <TextBlock x:Name="ShoulderTiltThresholdValue" 
                                             Text="10Â°" 
                                             HorizontalAlignment="Right"
                                             FontWeight="SemiBold"
                                             Foreground="{StaticResource PrimaryBrush}" />
                                </Grid>
                                <Slider
                                    x:Name="ShoulderTiltThresholdSlider"
                                    Minimum="5"
                                    Maximum="20"
                                    Value="10"
                                    StepFrequency="1"
                                    ValueChanged="ThresholdSlider_ValueChanged" />
                            </StackPanel>
                        </StackPanel>
                    </Border>
                    
                    <!-- Instructions - Modern Info Card -->
                    <Border
                        CornerRadius="16"
                        Padding="24"
                        Background="{StaticResource SuccessGradient}">
                        <StackPanel Spacing="16">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="&#xE82F;" 
                                         FontSize="24" 
                                         Foreground="White" />
                                <TextBlock
                                    Text="Quick Start Guide"
                                    FontSize="20"
                                    FontWeight="Bold"
                                    Foreground="White" />
                            </StackPanel>
                            
                            <StackPanel Spacing="12">
                                <Border Background="#FFFFFF" 
                                       Opacity="0.15" 
                                       Height="1" />
                                
                                <StackPanel Spacing="12">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        
                                        <Border Grid.Column="0" 
                                               Background="White" 
                                               CornerRadius="20" 
                                               Width="32" Height="32"
                                               Margin="0,0,12,0">
                                            <TextBlock Text="1" 
                                                     Foreground="{StaticResource SuccessBrush}"
                                                     FontWeight="Bold"
                                                     FontSize="16"
                                                     HorizontalAlignment="Center"
                                                     VerticalAlignment="Center" />
                                        </Border>
                                        <TextBlock Grid.Column="1"
                                                 Text="Click 'Start Monitoring' to begin tracking"
                                                 Foreground="White"
                                                 FontSize="15"
                                                 TextWrapping="Wrap"
                                                 VerticalAlignment="Center" />
                                    </Grid>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        
                                        <Border Grid.Column="0" 
                                               Background="White" 
                                               CornerRadius="20" 
                                               Width="32" Height="32"
                                               Margin="0,0,12,0">
                                            <TextBlock Text="2" 
                                                     Foreground="{StaticResource SuccessBrush}"
                                                     FontWeight="Bold"
                                                     FontSize="16"
                                                     HorizontalAlignment="Center"
                                                     VerticalAlignment="Center" />
                                        </Border>
                                        <TextBlock Grid.Column="1"
                                                 Text="Adjust your posture to your ideal position"
                                                 Foreground="White"
                                                 FontSize="15"
                                                 TextWrapping="Wrap"
                                                 VerticalAlignment="Center" />
                                    </Grid>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        
                                        <Border Grid.Column="0" 
                                               Background="White" 
                                               CornerRadius="20" 
                                               Width="32" Height="32"
                                               Margin="0,0,12,0">
                                            <TextBlock Text="3" 
                                                     Foreground="{StaticResource SuccessBrush}"
                                                     FontWeight="Bold"
                                                     FontSize="16"
                                                     HorizontalAlignment="Center"
                                                     VerticalAlignment="Center" />
                                        </Border>
                                        <TextBlock Grid.Column="1"
                                                 Text="Save your good posture as the baseline"
                                                 Foreground="White"
                                                 FontSize="15"
                                                 TextWrapping="Wrap"
                                                 VerticalAlignment="Center" />
                                    </Grid>
                                    
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        
                                        <Border Grid.Column="0" 
                                               Background="White" 
                                               CornerRadius="20" 
                                               Width="32" Height="32"
                                               Margin="0,0,12,0">
                                            <TextBlock Text="4" 
                                                     Foreground="{StaticResource SuccessBrush}"
                                                     FontWeight="Bold"
                                                     FontSize="16"
                                                     HorizontalAlignment="Center"
                                                     VerticalAlignment="Center" />
                                        </Border>
                                        <TextBlock Grid.Column="1"
                                                 Text="Receive notifications when posture degrades"
                                                 Foreground="White"
                                                 FontSize="15"
                                                 TextWrapping="Wrap"
                                                 VerticalAlignment="Center" />
                                    </Grid>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                    
                    <!-- Footer Spacing -->
                    <Border Height="32" />
                </StackPanel>
            </Grid>
        </ScrollViewer>
    </Page.Content>
</Page>
